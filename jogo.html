NossoJogo/
 â”œâ”€ jogo.html
 â”œâ”€ fotos/
 â”‚   â”œâ”€ q1_1.jpg
 â”‚   â”œâ”€ q1_2.jpg
 â”‚   â”œâ”€ q2_1.jpg
 â”‚   â”œâ”€ q2_2.jpg
 â”‚   â”œâ”€ q3_1.jpg
 â”‚   â”œâ”€ q3_2.jpg
 â”‚   â”œâ”€ q4_1.jpg
 â”‚   â”œâ”€ q4_2.jpg
 â”‚   â”œâ”€ q5_1.jpg
 â”‚   â””â”€ q5_2.jpg
 â””â”€ video/
     â””â”€ final.mp4

<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nosso Jogo ğŸ’›</title>
  <style>
    body{font-family:system-ui,-apple-system,Arial;margin:0;background:#0f172a;color:#e2e8f0}
    .wrap{max-width:860px;margin:0 auto;padding:24px}
    .card{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.10);border-radius:16px;padding:20px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
    h1{margin:0 0 10px;font-size:26px}
    .sub{opacity:.9;margin:0 0 18px}
    .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .pill{padding:6px 10px;border-radius:999px;background:rgba(255,255,255,.10);border:1px solid rgba(255,255,255,.12)}
    .bar{flex:1;min-width:200px;height:10px;border-radius:999px;background:rgba(255,255,255,.12);overflow:hidden}
    .fill{height:100%;width:0%;background:#22c55e;transition:width .25s ease}
    .media{margin:12px 0 14px;border-radius:14px;overflow:hidden;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.04)}
    .grid{display:grid;grid-template-columns:1fr;gap:8px;padding:10px}
    @media(min-width:720px){.grid{grid-template-columns:1fr 1fr}}
    .grid img{width:100%;height:260px;object-fit:cover;border-radius:12px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.04);display:block}
    .cap{padding:10px 12px;border-top:1px solid rgba(255,255,255,.10);font-size:14px;opacity:.95}
    .q{font-size:18px;line-height:1.35;margin:10px 0 16px}
    .opts{display:grid;gap:10px}
    .opt{width:100%;text-align:left;padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.06);color:inherit;cursor:pointer}
    .opt:hover{background:rgba(255,255,255,.10)}
    .opt[disabled]{opacity:.65;cursor:not-allowed}
    .feedback{margin-top:14px;font-weight:800}
    .good{color:#22c55e}
    .bad{color:#ef4444}
    .nav{display:flex;gap:10px;margin-top:16px;flex-wrap:wrap}
    .btn{padding:12px 14px;border-radius:12px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.08);color:inherit;cursor:pointer}
    .btn:hover{background:rgba(255,255,255,.12)}
    .btn[disabled]{opacity:.6;cursor:not-allowed}
    .hidden{display:none}
    .final{font-size:18px;line-height:1.45;white-space:pre-wrap}
    input{width:100%;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,.16);background:rgba(255,255,255,.06);color:inherit}
    video{width:100%;border-radius:14px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.04)}
    .small{font-size:14px;opacity:.85;margin-top:6px}
    .debug{margin-top:14px;padding:10px 12px;border-radius:12px;border:1px solid rgba(239,68,68,.35);background:rgba(239,68,68,.12);color:#fecaca}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Nosso Jogo ğŸ’›</h1>
      <p class="sub">Complete a histÃ³ria escolhendo a alternativa certa. (Sem Google! ğŸ˜„)</p>

      <!-- painel de erro -->
      <div id="debug" class="debug hidden"></div>

      <!-- JOGO -->
      <div id="screenGame">
        <div class="row" style="margin-bottom:14px">
          <div class="pill" id="counter">1 / 5</div>
          <div class="bar"><div class="fill" id="fill"></div></div>
          <div class="pill" id="score">0 pts</div>
        </div>

        <div id="mediaBox" class="media hidden">
          <div id="mediaGrid" class="grid"></div>
          <div id="mediaCap" class="cap hidden"></div>
        </div>

        <div class="q" id="question"></div>
        <div class="opts" id="options"></div>

        <div id="feedback" class="feedback hidden"></div>

        <div class="nav">
          <button class="btn" id="btnNext" disabled>PrÃ³xima</button>
          <button class="btn" id="btnRestart" class="hidden">RecomeÃ§ar</button>
        </div>
      </div>

      <!-- FINAL -->
      <div id="screenEnd" class="hidden">
        <div class="pill" id="finalScore"></div>
        <p class="final" id="finalText"></p>

        <div id="videoBox" class="hidden">
          <p class="sub">Antes da mensagem finalâ€¦ um vÃ­deo ğŸ¥¹</p>
          <video id="finalVideo" controls playsinline></video>
          <p class="small" id="videoHint"></p>
        </div>

        <p class="sub">Digite a â€œsenhaâ€ (uma palavra de vocÃªs) para liberar a mensagem final:</p>
        <input id="secretInput" placeholder="senha..." />
        <div class="nav">
          <button class="btn" id="btnUnlock">Liberar ğŸ’Œ</button>
          <button class="btn" id="btnRestart2">Jogar de novo</button>
        </div>
        <p id="secretMsg" class="final hidden"></p>
      </div>
    </div>
  </div>

  <script>
    (function(){
      const debug = (msg) => {
        const box = document.getElementById("debug");
        box.classList.remove("hidden");
        box.textContent = msg;
      };

      try {
        // âœ… QUIZ (5 perguntas / 2 fotos cada) â€” edite depois se quiser
        const QUIZ = [
          {
            q: "A gente se conheceu sem pressaâ€¦ e o mÃªs que marcou o comeÃ§o foi:",
            options: ["Outubro", "MarÃ§o", "Dezembro", "Janeiro"],
            answer: 0,
            photos: ["fotos/q1_1.jpg", "fotos/q1_2.jpg"],
            caption: "Esse dia aqui nÃ£o parecia grandeâ€¦ mas foi."
          },
          {
            q: "No meio do estÃ¡dio, em ________, a conversa voltou a existir.",
            options: ["Maio", "Fevereiro", "Agosto", "Novembro"],
            answer: 0,
            photos: ["fotos/q2_1.jpg", "fotos/q2_2.jpg"],
            caption: "O mundo barulhento e a gente ali."
          },
          {
            q: "Junho chegou com mais palavrasâ€¦ e ficou difÃ­cil:",
            options: ["resistir", "esquecer", "evitar", "dormir"],
            answer: 0,
            photos: ["fotos/q3_1.jpg", "fotos/q3_2.jpg"],
            caption: "Quando ficou impossÃ­vel fingir."
          },
          {
            q: "A viagem leve que virou surpresa foi para:",
            options: ["Portugal", "Chile", "Bahia", "Argentina"],
            answer: 0,
            photos: ["fotos/q4_1.jpg", "fotos/q4_2.jpg"],
            caption: "CafÃ©, risada e famÃ­lia por perto."
          },
          {
            q: "O que o tempo nunca foi com a gente?",
            options: ["simples", "claro", "rÃ¡pido", "igual"],
            answer: 0,
            photos: ["fotos/q5_1.jpg", "fotos/q5_2.jpg"],
            caption: "E mesmo assimâ€¦ sempre voltou."
          }
        ];

        // âœ… vÃ­deo final (MP4 Ã© o melhor)
        const FINAL_VIDEO_SRC = "video/final.mp4";

        // âœ… senha e mensagem
        const PASSWORD = "cafe";
        const SECRET =
          "VocÃª liberou a mensagem ğŸ’Œ" +
          "Feliz aniversÃ¡rio de namoro.\\n" +
          "Obrigada por ser casa, calma e festa ao mesmo tempo.\\n" +
          "Eu escolho vocÃª â€” de novo, e de novo.\\n\\n" +
          "(Agora vem me dar um beijo.)";

        // --- elementos
        const el = (id) => document.getElementById(id);

        const screenGame = el("screenGame");
        const screenEnd  = el("screenEnd");

        const counter = el("counter");
        const score   = el("score");
        const fill    = el("fill");

        const mediaBox = el("mediaBox");
        const mediaGrid = el("mediaGrid");
        const mediaCap = el("mediaCap");

        const question = el("question");
        const options  = el("options");
        const feedback = el("feedback");

        const btnNext = el("btnNext");
        const btnRestart = el("btnRestart");

        const finalScore = el("finalScore");
        const finalText  = el("finalText");

        const videoBox = el("videoBox");
        const finalVideo = el("finalVideo");
        const videoHint = el("videoHint");

        const secretInput = el("secretInput");
        const btnUnlock   = el("btnUnlock");
        const secretMsg   = el("secretMsg");
        const btnRestart2 = el("btnRestart2");

        // --- estado
        let idx = 0;
        let points = 0;
        let answered = false;

        function setProgress(){
          counter.textContent = (idx + 1) + " / " + QUIZ.length;
          score.textContent = points + " pts";
          fill.style.width = (idx / QUIZ.length) * 100 + "%";
        }

        function setMedia(item){
          mediaGrid.innerHTML = "";

          if (item.photos && item.photos.length){
            mediaBox.classList.remove("hidden");

            item.photos.forEach(src => {
              const img = document.createElement("img");
              img.alt = "foto";
              img.src = new URL(src, window.location.href).href;
;
              // se imagem falhar, mostra borda e texto no console da prÃ³pria imagem
              img.onerror = () => { img.alt = "Imagem nÃ£o encontrada: " + src; };
              mediaGrid.appendChild(img);
            });

            if (item.caption){
              mediaCap.classList.remove("hidden");
              mediaCap.textContent = item.caption;
            } else {
              mediaCap.classList.add("hidden");
              mediaCap.textContent = "";
            }
          } else {
            mediaBox.classList.add("hidden");
            mediaCap.classList.add("hidden");
            mediaCap.textContent = "";
          }
        }

        function render(){
          answered = false;
          btnNext.disabled = true;
          feedback.classList.add("hidden");
          feedback.textContent = "";

          const item = QUIZ[idx];
          setProgress();
          setMedia(item);

          question.textContent = item.q;
          options.innerHTML = "";

          item.options.forEach((txt, i) => {
            const b = document.createElement("button");
            b.className = "opt";
            b.type = "button";
            b.textContent = txt;
            b.onclick = () => pick(i);
            options.appendChild(b);
          });
        }

        function pick(choice){
          if (answered) return;
          answered = true;

          const item = QUIZ[idx];
          const correct = (choice === item.answer);

          // desabilita todas opÃ§Ãµes apÃ³s responder
          [...options.querySelectorAll("button")].forEach(btn => btn.disabled = true);

          if (correct) points += 10;

          feedback.classList.remove("hidden");
          feedback.classList.toggle("good", correct);
          feedback.classList.toggle("bad", !correct);
          feedback.textContent = correct
            ? "âœ… Acertou! +10 pts."
            : "âŒ Quase! A certa era: " + item.options[item.answer];

          score.textContent = points + " pts";
          btnNext.disabled = false;
        }

        function finish(){
          fill.style.width = "100%";
          screenGame.classList.add("hidden");
          screenEnd.classList.remove("hidden");

          finalScore.textContent = "PontuaÃ§Ã£o final: " + points + " / " + (QUIZ.length * 10);

          finalText.textContent =
            points >= (QUIZ.length * 10) * 0.8
              ? "VocÃª foi MUITO bem. Eu sabia que vocÃª lembrava de tudo. ğŸ’›\\n\\nAgora vem a parte finalâ€¦"
              : "Hmmmâ€¦ vocÃª vai ter que me pagar um cafÃ© pra eu te recontar a histÃ³ria direitinho ğŸ˜„\\n\\nAgora vem a parte finalâ€¦";

          // vÃ­deo
          videoBox.classList.remove("hidden");
         finalVideo.src = new URL(FINAL_VIDEO_SRC, window.location.href).href;
          videoHint.textContent = "Se nÃ£o abrir, confira se o arquivo estÃ¡ em /video/final.mp4 com esse nome.";

          // reset mensagem
          secretInput.value = "";
          secretMsg.classList.add("hidden");
          secretMsg.textContent = "";
        }

        function next(){
          if (!answered) return;
          idx++;
          if (idx >= QUIZ.length) finish();
          else render();
        }

        function reset(){
          idx = 0;
          points = 0;
          screenEnd.classList.add("hidden");
          screenGame.classList.remove("hidden");
          // reabilita opÃ§Ãµes e volta
          render();
        }

        btnNext.onclick = next;
        btnRestart.onclick = reset;
        btnRestart2.onclick = reset;

        btnUnlock.onclick = () => {
          const typed = (secretInput.value || "").trim().toLowerCase();
          secretMsg.classList.remove("hidden");
          if (typed === PASSWORD.toLowerCase()){
            secretMsg.textContent = SECRET;
          } else {
            secretMsg.textContent = "Senha errada ğŸ˜„\\nDica: Ã© uma palavra simples de vocÃªs (sem acento, minÃºscula).";
          }
        };

        // inicia
        render();

      } catch (e) {
        debug("Deu erro no JavaScript: " + (e && e.message ? e.message : e));
      }
    })();
  </script>
</body>
</html>
